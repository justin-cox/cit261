<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    // CALL
    // sets the value of this inside a function to an object that is provided as the first argument
    
    // Reminder that you can set your own custom properties like memoization.

    //IIFE - Immediately invoked function expression
    // parentheses at end of function and also enclosed around function
    // especially good for temporary variables, strict mode, code blocks,
(function(){
    const temp = 'World';
    console.log(`Hello ${temp}`);
})();

// RECURSIVE FUNCTIONS
// invoke themselves until a certain condition is met

// Avoid callback hell by using Promises
// the await operator allows for the functionality of asynchronous functions


// AJAX
// Ajax is a technique that allows web pages to communicate asynchronously with a server, and it
// dynamically updates web pages without reloading. This enables data to be sent and
// received in the background, as well as portions of a page to be updated in
// response to user events, while the rest of the program continues to run.

// Typically, JSON is the most used type of data being sent usig AJAX
// the fetch api allows the use of vanalla javascript to access an api

// CREATING A REQUEST OBJECT
const request = new Request('https://example.com/data', {
    method: 'GET',
    mode: 'cors',
    redirect: 'follow',
    cache: 'no-cache'
});

// Once the Request object is assigned to a variable, it can then be used as the parameter of the fetch() method:

fetch(request)
.then( /* do something with the response*/)
.catch( /*handle any errors*/)

// OR

fetch('https://example.com/data', {
    method: 'GET',
    mode: 'cors',
    redirect: 'follow',
    cache: 'no-cache'
})
.then( /* do something with the response*/)
.catch( /*handle any errors*/)

// PUTTING IT ALL TOGETHER
const url = 'https:example.com/data';
const headers = new Headers({ 'Content-Type': 'text/plain', 'Accept-Charset' : 'utf-8', 'Accept-Encoding':'gzip,deflate' })
const request = (url,{
    headers: headers
})
fetch(request)
.then( function(response) {
    if(response.ok) {
        return response;
    }
    throw Error(response.statusText);
})
.then( response => /*do something with the response... example: */console.log(response) )
.catch( error => console.log('There was an error!') )





</script>
</html>